import{P as L,O as S,e as D,j}from"./User-db42e239.js";import{u as M,j as m,x as P,o as d,c as i,f as e,t as n,l as B,v as G,F as y,r as k,n as $,S as b,z,A as C,_ as A,B as I,g as O,m as V,p as N,e as T}from"./index-8b62947c.js";import{G as F}from"./index-903f5ab4.js";const E=""+new URL("../img/banner2.png",import.meta.url).href,K=""+new URL("套餐-2381ece1.svg",import.meta.url).href,U={class:"w-screen h-screen bg-[rgba(0,0,0,0.5)]"},q={class:"w-full h-full flex justify-center items-center"},H={class:"relative lg:w-[25rem] w-[22rem] bg-[#191f2a] border-4 border-slate-700 rounded-2xl p-5"},R=e("svg",{t:"1694499094039",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"16661",width:"32",height:"32"},[e("path",{d:"M512 512m-448 0a448 448 0 1 0 896 0 448 448 0 1 0-896 0Z",fill:"#5090F1","p-id":"16662"}),e("path",{d:"M512 455.431l169.706-169.705a8 8 0 0 1 11.313 0l45.255 45.255a8 8 0 0 1 0 11.313L568.57 512l169.705 169.706a8 8 0 0 1 0 11.313l-45.255 45.255a8 8 0 0 1-11.313 0L512 568.57 342.294 738.274a8 8 0 0 1-11.313 0l-45.255-45.255a8 8 0 0 1 0-11.313L455.43 512 285.726 342.294a8 8 0 0 1 0-11.313l45.255-45.255a8 8 0 0 1 11.313 0L512 455.43z",fill:"#FFFFFF","p-id":"16663"})],-1),Y=[R],Z=e("div",{class:"text-xl"},[e("p",null,"订单详情")],-1),J={class:"mt-5 flex items-center"},Q=e("img",{class:"rounded-lg lg:w-24 w-20",src:K,alt:""},null,-1),W={class:"flex w-full justify-around items-center"},X={class:"flex flex-col"},ee={class:"text-lg whitespace-nowrap overflow-ellipsis overflow-hidden"},te={class:"flex gap-2 items-center"},se=e("span",{class:"border-4 border-green-500 w-0 h-0 rounded-full"},null,-1),le={class:"flex gap-2 items-center"},ae=e("span",{class:"border-4 border-green-500 w-0 h-0 rounded-full"},null,-1),oe={class:"mt-4"},ne=e("p",null,"优惠码",-1),re={class:"flex mt-2 justify-between gap-5 px-2"},ce={class:"mt-5"},de=e("p",{class:"text-sm mb-2"},"周期选项",-1),ie={class:"w-full overflow-scroll"},_e={class:"flex gap-5 flex-wrap"},ue=["onClick"],pe={__name:"Pay",props:{data:Object,move_node:Function},setup(u){const l=u,r=M(),x=()=>{l.move_node()},p=m(null),h=s=>{switch(s){case"month_price":return"月付";case"quarter_price":return"季付";case"half_year_price":return"半年";case"year_price":return"年付";case"two_year_price":return"俩年付";case"three_year_price":return"三年付";case"onetime_price":return"一次性";case"reset_price":return"重置价格";default:return!1}},v=m([]),g=m(0);P(l.data,s=>{for(const t in s)s[t]!==null&&h(t)&&v.value.push({title:h(t),name:t,number:s[t]})},{immediate:!0});const w=()=>{L(l.data.id,p.value).then(s=>{l.data=s.data}).catch(s=>{b(s.data.message,null,400),p.value=null})},a=()=>{console.log();let s=v.value[g.value].name,t=l.data.id;S(s,t,p.value).then(o=>{b("订单创建成功","请支付",200),l.move_node(),F(o.data.data)}).catch(o=>{b("订单提交失败！",o.data.message,400,4e3),console.log(o.data.message.indexOf("未付款")!==-1),o.data.message.indexOf("未付款")!==-1&&D().then(c=>{r.OderList=c.data.data;for(let f=0;f<c.data.data.length;f++)console.log(c.data.data[f]),c.data.data[f].status===0&&(F(c.data.data[f].trade_no),console.log(c.data.data[f].trade_no))})})};return(s,t)=>(d(),i("div",U,[e("div",q,[e("div",H,[e("div",{class:"absolute top-0 right-0 cursor-pointer",onClick:x},Y),Z,e("div",J,[Q,e("div",W,[e("div",X,[e("h1",ee,n(l.data.name),1),e("div",null,[e("div",te,[se,e("p",null,"周期流量："+n(l.data.transfer_enable)+"G",1)]),e("div",le,[ae,e("p",null,"套餐限速："+n(l.data.speed_limit===null?"无限":l.data.speed_limit)+"/MS",1)])])])])]),e("div",oe,[ne,e("div",re,[B(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),class:"flex-1 indent-2 text-slate-300 bg-gray-800 border border-gray-600 rounded-lg p-1 outline-0",type:"text",placeholder:"可选项"},null,512),[[G,p.value]]),e("button",{type:"button",onClick:w,class:"text-sm rounded-lg text-black bg-green-600 px-2 py-1"},"验证优惠码")])]),e("div",ce,[de,e("div",ie,[e("div",_e,[(d(!0),i(y,null,k(v.value,(o,c)=>(d(),i("p",{onClick:f=>g.value=c,class:$([g.value===c?"bg-green-600 text-black":" bg-slate-700 text-slate-300","cursor-pointer px-2 py-1 rounded-lg whitespace-nowrap"])},n(o.title)+":"+n((o.number/100).toFixed(2)),11,ue))),256))])])]),e("div",{class:"w-full text-center mt-5"},[e("button",{onClick:a,class:"w-[80%] p-2 bg-green-500 text-black rounded-3xl"},"去支付")])])])]))}},he=u=>{const r=z(pe,{data:u,move_node:()=>{C(null,document.getElementById("Popup"))}});C(r,document.getElementById("Popup"))};const _=u=>(N("data-v-5e8aa75f"),u=u(),T(),u),ve={class:"relative rounded-2xl lg:-mt-7 overflow-hidden h-full flex"},fe={key:0,class:"w-[100%] items-center lg:p-14 py-5 bg-[#17171a] border border-slate-700 h-full m-auto flex gap-10"},me=_(()=>e("div",{class:"hidden lg:block flex-1"},[e("img",{src:E,alt:""})],-1)),ge={class:"lg:w-[70%] w-full px-5 h-full overflow-y-scroll"},xe={class:"relative flex flex-col h-full"},we={class:"lg:ml-5"},be={class:"lg:text-3xl text-xl p-2 rounded-lg inline-block"},ye={class:"mt-5 flex-1 w-full lg:w-[70%] shadow-gray-700 shadow-lg overflow-scroll lg:m-5 mb-2 p-5 rounded-lg"},ke=["innerHTML"],$e={class:"px-5"},Ce=_(()=>e("p",{class:"text-xl mb-2"},"配置项：",-1)),Fe={class:"flex gap-5 items-center text-lg"},Me=_(()=>e("span",{class:"border-4 border-green-500 w-0 h-0 rounded-full"},null,-1)),Pe={class:""},Le={class:"flex gap-5 items-center text-lg"},Se=_(()=>e("span",{class:"border-4 border-green-500 w-0 h-0 rounded-full"},null,-1)),De={class:"w-full overflow-scroll"},je={class:"flex gap-5"},Be={class:"inline-flex items-center justify-center rounded-full bg-emerald-100 px-2.5 py-0.5 text-emerald-700 dark:bg-emerald-700 dark:text-emerald-100"},Ge=_(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"-ms-1 me-1.5 h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),ze={class:"whitespace-nowrap text-sm"},Ae={class:"flex items-center"},Ie={class:"p-5 overflow-x-scroll"},Oe={class:"flex gap-5"},Ve=["onClick"],Ne={class:"whitespace-nowrap overflow-hidden overflow-ellipsis"},Te={class:"absolute -top-3 text-white text-sm bg-[#08CD7C] rounded-lg px-2 left-0"},Ee={class:"flex flex-col items-center gap-0"},Ke={class:"text-[13px] whitespace-nowrap text-neutral-400"},Ue=_(()=>e("path",{d:"M512 929.959184c-230.4 0-417.959184-187.559184-417.959184-417.959184s187.559184-417.959184 417.959184-417.959184 417.959184 187.559184 417.959184 417.959184-187.559184 417.959184-417.959184 417.959184z",fill:"#08CD7C","p-id":"4231","data-spm-anchor-id":"a313x.search_index.0.i2.3aaf3a810MN6jV",class:"selected"},null,-1)),qe=_(()=>e("path",{d:"M459.755102 637.387755c-5.22449 0-10.44898-2.089796-14.628571-6.269388l-104.489796-104.489796c-8.359184-8.359184-8.359184-21.420408 0-29.779591 8.359184-8.359184 21.420408-8.359184 29.779592 0l104.489795 104.489796c8.359184 8.359184 8.359184 21.420408 0 29.779591-4.702041 4.179592-9.926531 6.269388-15.15102 6.269388z",fill:"#DCFFFA","p-id":"4232"},null,-1)),He=_(()=>e("path",{d:"M459.755102 637.387755c-5.22449 0-10.44898-2.089796-14.628571-6.269388-8.359184-8.359184-8.359184-21.420408 0-29.779591l208.979591-208.979592c8.359184-8.359184 21.420408-8.359184 29.779592 0 8.359184 8.359184 8.359184 21.420408 0 29.779592l-208.979592 208.979591c-4.702041 4.179592-9.926531 6.269388-15.15102 6.269388z",fill:"#DCFFFA","p-id":"4233"},null,-1)),Re=[Ue,qe,He],Ye=_(()=>e("span",{class:"absolute top-0 right-0 px-5 py-1 text-xs tracki text-center uppercase whitespace-no-wrap origin-bottom-left transform rotate-45 -translate-y-full translate-x-1/3 bg-violet-400"},"Go~",-1)),Ze={__name:"Plan",setup(u){M();const l=m(-1),r=m(null),x=a=>{if(typeof a=="number"){const s=a.toString(),t=s.slice(0,-2),o=s.slice(-2);return`${t}.${o}`}return a},p=a=>{switch(a){case"month_price":return"月付";case"quarter_price":return"季付";case"half_year_price":return"半年";case"year_price":return"年付";case"two_year_price":return"俩年付";case"three_year_price":return"三年付";case"onetime_price":return"一次性";case"reset_price":return"重置价格";default:return!1}};I(()=>{j().then(a=>{Array.from(a.data.data).length>0&&(l.value=0,r.value=Array.from(a.data.data))})});const h=m(),v=m([]);P(l,a=>{h.value=r.value[a],v.value.splice(0);for(const s in h.value)if(h.value[s]!==null){let t=p(s);t!==!1&&v.value.push({name:t,title:s,number:h.value[s]})}});const g=a=>{let s=[];for(const t in a)if(t.indexOf("_price")!==-1&&a[t]!==null){s[0]=p(t),s[1]=x(a[t]);break}return s},w=()=>{let a=r.value[l.value];he(a)};return(a,s)=>(d(),i("div",ve,[r.value!==null?(d(),i("div",fe,[me,e("div",ge,[e("div",xe,[e("div",we,[e("p",be,"套餐名称："+n(r.value[l.value].name),1)]),e("div",ye,[e("div",{innerHTML:r.value[l.value].content,class:""},null,8,ke)]),e("div",$e,[Ce,e("div",Fe,[Me,e("p",Pe,"周期流量："+n(r.value[l.value].transfer_enable)+"G",1)]),e("div",Le,[Se,e("p",null,"巅峰限速："+n(r.value[l.value].speed_limit==null?"无限制":r.value[l.value].speed_limit)+"/MS",1)]),e("div",De,[e("ul",je,[(d(!0),i(y,null,k(v.value,(t,o)=>(d(),i("li",{key:o,class:"rounded-md py-4 text-sm focus:relative text-gray-400 hover:text-gray-200 cursor-pointer"},[e("span",Be,[Ge,e("p",ze,n(t.name)+": "+n(x(t.number)),1)])]))),128))])])]),e("div",Ae,[e("div",Ie,[e("ul",Oe,[(d(!0),i(y,null,k(r.value,(t,o)=>(d(),i("li",{key:o,class:$([o===l.value?"border-[#08CD7C] border-2":"border-2 border-slate-800","relative p-2 px-5 shadow-sm shadow-[#08CD7C] w-32 text-center rounded-xl cursor-pointer hover:border-[#08CD7C]"]),onClick:c=>l.value=o},[e("div",null,[e("p",Ne,n(t.name),1),e("span",Te,n(t.transfer_enable)+"G/"+n(g(t)[0]),1),e("div",Ee,[e("span",Ke,n(g(t)[1])+" - "+n(t.speed_limit==null?"无限制":t.speed_limit)+"/MS ",1)])]),(d(),i("svg",{class:$([o===l.value?"block":"hidden","icon absolute top-0 right-0"]),t:"1693782622038",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4230",width:"20",height:"20"},Re,2))],10,Ve))),128))])])]),e("div",{class:""},[e("button",{type:"button",onClick:w,class:"relative px-8 py-4 ml-4 overflow-hidden font-semibold rounded bg-[#08CD7C] text-gray-900"},[O("立即支付 "),Ye])])])])])):V("",!0)]))}},Xe=A(Ze,[["__scopeId","data-v-5e8aa75f"]]);export{Xe as default};
